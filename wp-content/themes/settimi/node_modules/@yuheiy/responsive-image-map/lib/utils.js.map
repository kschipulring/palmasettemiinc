{"version":3,"sources":["../src/utils.js"],"names":["detectImage","resolve","reject","tester","Image","onLoad","removeListeners","onError","removeEventListener","addEventListener","src","debounce","scheduledAnimationFrame","args","requestAnimationFrame","fn"],"mappings":";;;;;;;;;;;;;AAAO,IAAMA,oCAAc,SAAdA,WAAc;AAAA,SAAO,sBAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACjE,QAAMC,SAAS,IAAIC,KAAJ,EAAf;AACA,QAAMC,SAAS,SAATA,MAAS,GAAM;AACnBC;AACAL;AACD,KAHD;AAIA,QAAMM,UAAU,SAAVA,OAAU,GAAM;AACpBD;AACAJ;AACD,KAHD;AAIA,QAAMI,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5BH,aAAOK,mBAAP,CAA2B,MAA3B,EAAmCH,MAAnC;AACAF,aAAOK,mBAAP,CAA2B,OAA3B,EAAoCD,OAApC;AACD,KAHD;;AAKAJ,WAAOM,gBAAP,CAAwB,MAAxB,EAAgCJ,MAAhC;AACAF,WAAOM,gBAAP,CAAwB,OAAxB,EAAiCF,OAAjC;AACAJ,WAAOO,GAAP,GAAaA,GAAb;AACD,GAlBiC,CAAP;AAAA,CAApB;;AAoBA,IAAMC,8BAAW,SAAXA,QAAW,KAAM;AAC5B,MAAIC,0BAA0B,KAA9B;;AAEA,SAAO,YAAa;AAAA,sCAATC,IAAS;AAATA,UAAS;AAAA;;AAClB,QAAID,uBAAJ,EAA6B;AAC3B;AACD;;AAEDA,8BAA0B,IAA1B;AACAE,0BAAsB,YAAM;AAC1BC,0BAAMF,IAAN;AACAD,gCAA0B,KAA1B;AACD,KAHD;AAID,GAVD;AAWD,CAdM","file":"utils.js","sourcesContent":["export const detectImage = src => new Promise((resolve, reject) => {\n  const tester = new Image()\n  const onLoad = () => {\n    removeListeners()\n    resolve()\n  }\n  const onError = () => {\n    removeListeners()\n    reject()\n  }\n  const removeListeners = () => {\n    tester.removeEventListener('load', onLoad)\n    tester.removeEventListener('error', onError)\n  }\n\n  tester.addEventListener('load', onLoad)\n  tester.addEventListener('error', onError)\n  tester.src = src\n})\n\nexport const debounce = fn => {\n  let scheduledAnimationFrame = false\n\n  return (...args) => {\n    if (scheduledAnimationFrame) {\n      return\n    }\n\n    scheduledAnimationFrame = true\n    requestAnimationFrame(() => {\n      fn(...args)\n      scheduledAnimationFrame = false\n    })\n  }\n}\n"]}